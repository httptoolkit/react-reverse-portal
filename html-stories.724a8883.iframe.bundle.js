/*! For license information please see html-stories.724a8883.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_reverse_portal=self.webpackChunkreact_reverse_portal||[]).push([[656],{"./dist/web/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{KF:()=>createHtmlPortalNode,bL:()=>OutPortal,fq:()=>createSvgPortalNode,oj:()=>InPortal});var extendStatics,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/index.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),createPortalNode=function(elementType,options){var _a,_b,parent,lastPlaceholder,element,initialProps={};switch(elementType){case"html":element=document.createElement(null!==(_a=null==options?void 0:options.containerElement)&&void 0!==_a?_a:"div");break;case"svg":element=document.createElementNS("http://www.w3.org/2000/svg",null!==(_b=null==options?void 0:options.containerElement)&&void 0!==_b?_b:"g");break;default:throw new Error('Invalid element type "'.concat(elementType,'" for createPortalNode: must be "html" or "svg".'))}if(options&&"object"==typeof options&&options.attributes)for(var _i=0,_c=Object.entries(options.attributes);_i<_c.length;_i++){var _d=_c[_i],key=_d[0],value=_d[1];element.setAttribute(key,value)}var portalNode={element,elementType,setPortalProps:function(props){initialProps=props},getInitialPortalProps:function(){return initialProps},mount:function(newParent,newPlaceholder){if(newPlaceholder!==lastPlaceholder){if(portalNode.unmount(),newParent!==parent&&!function(domElement,elementType){var _a,_b,_c,ownerDocument=null!==(_a=domElement.ownerDocument)&&void 0!==_a?_a:document,ownerWindow=null!==(_c=null!==(_b=ownerDocument.defaultView)&&void 0!==_b?_b:ownerDocument.parentWindow)&&void 0!==_c?_c:window;switch(elementType){case"html":return domElement instanceof ownerWindow.HTMLElement;case"svg":return domElement instanceof ownerWindow.SVGElement;default:throw new Error('Unrecognized element type "'.concat(elementType,'" for validateElementType.'))}}(newParent,elementType))throw new Error('Invalid element type for portal: "'.concat(elementType,'" portalNodes must be used with ').concat(elementType," elements, but OutPortal is within <").concat(newParent.tagName,">."));newParent.replaceChild(portalNode.element,newPlaceholder),parent=newParent,lastPlaceholder=newPlaceholder}},unmount:function(expectedPlaceholder){expectedPlaceholder&&expectedPlaceholder!==lastPlaceholder||parent&&lastPlaceholder&&(parent.replaceChild(lastPlaceholder,portalNode.element),parent=void 0,lastPlaceholder=void 0)}};return portalNode},InPortal=function(_super){function InPortal(props){var _this=_super.call(this,props)||this;return _this.addPropsChannel=function(){Object.assign(_this.props.node,{setPortalProps:function(props){_this.setState({nodeProps:props})}})},_this.state={nodeProps:_this.props.node.getInitialPortalProps()},_this}return __extends(InPortal,_super),InPortal.prototype.componentDidMount=function(){this.addPropsChannel()},InPortal.prototype.componentDidUpdate=function(){this.addPropsChannel()},InPortal.prototype.render=function(){var _this=this,_a=this.props,children=_a.children,node=_a.node;return react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children,function(child){return react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)?react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child,_this.state.nodeProps):child}),node.element)},InPortal}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent),OutPortal=function(_super){function OutPortal(props){var _this=_super.call(this,props)||this;return _this.placeholderNode=react__WEBPACK_IMPORTED_MODULE_0__.createRef(),_this.passPropsThroughPortal(),_this}return __extends(OutPortal,_super),OutPortal.prototype.passPropsThroughPortal=function(){var propsForTarget=Object.assign({},this.props,{node:void 0});this.props.node.setPortalProps(propsForTarget)},OutPortal.prototype.componentDidMount=function(){var node=this.props.node;this.currentPortalNode=node;var placeholder=this.placeholderNode.current,parent=placeholder.parentNode;node.mount(parent,placeholder),this.passPropsThroughPortal()},OutPortal.prototype.componentDidUpdate=function(){var node=this.props.node;this.currentPortalNode&&node!==this.currentPortalNode&&(this.currentPortalNode.unmount(this.placeholderNode.current),this.currentPortalNode.setPortalProps({}),this.currentPortalNode=node);var placeholder=this.placeholderNode.current,parent=placeholder.parentNode;node.mount(parent,placeholder),this.passPropsThroughPortal()},OutPortal.prototype.componentWillUnmount=function(){var node=this.props.node;node.unmount(this.placeholderNode.current),node.setPortalProps({})},OutPortal.prototype.render=function(){var tagName=this.props.node.element.tagName,type="html"===this.props.node.elementType?tagName.toLowerCase():tagName;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(type,{ref:this.placeholderNode})},OutPortal}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent),createHtmlPortalNode=createPortalNode.bind(null,"html"),createSvgPortalNode=createPortalNode.bind(null,"svg")},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l,exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")},"./stories/html.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CanPassAttributesOptionToCreateHtmlPortalNode:()=>CanPassAttributesOptionToCreateHtmlPortalNode,CanSetPropsRemotelyWhilstMoving:()=>CanSetPropsRemotelyWhilstMoving,CanSwitchBetweenPortalsSafely:()=>CanSwitchBetweenPortalsSafely,ExampleFromREADME:()=>ExampleFromREADME,PersistComponentStateWhilstMoving:()=>PersistComponentStateWhilstMoving,PersistDOMWhilstMoving:()=>PersistDOMWhilstMoving,PortalContainerElementAsSpanInParagraph:()=>PortalContainerElementAsSpanInParagraph,PortalContainerElementAsTr:()=>PortalContainerElementAsTr,RenderThingsInDifferentPlaces:()=>RenderThingsInDifferentPlaces,RendersReliablyEvenWithFrequentChangesAndMultiplePortals:()=>RendersReliablyEvenWithFrequentChangesAndMultiplePortals,SwapNodesBetweenDifferentLocations:()=>SwapNodesBetweenDifferentLocations,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./dist/web/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Portals"},Container=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{border:"1px solid #222",padding:"10px"}},props.children),RenderThingsInDifferentPlaces=()=>{const portalNode=(0,___WEBPACK_IMPORTED_MODULE_1__.KF)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:["Portal defined here:",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.oj,{node:portalNode,children:"Hi!"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:["Portal renders here:",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode})]})]})},PersistDOMWhilstMoving=()=>{const portalNode=(0,___WEBPACK_IMPORTED_MODULE_1__.KF)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(()=>{const[useOuterDiv,setDivToUse]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.oj,{node:portalNode,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("video",{src:"https://media.giphy.com/media/l0HlKghz8IvrQ8TYY/giphy.mp4",controls:!0,loop:!0})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{onClick:()=>setDivToUse(!useOuterDiv),children:"Click to move the OutPortal"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("hr",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{children:"Outer OutPortal:"}),!0===useOuterDiv&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Container,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Container,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(Container,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{children:"Inner OutPortal:"}),!1===useOuterDiv&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode})]})})})]})]})})},PersistComponentStateWhilstMoving=()=>{const portalNode=(0,___WEBPACK_IMPORTED_MODULE_1__.KF)(),Counter=()=>{const[count,setCount]=react__WEBPACK_IMPORTED_MODULE_0__.useState(0);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:["Count is ",count,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{onClick:()=>setCount(count+1),children:"+1"})]})};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(()=>{const[useOuterDiv,setDivToUse]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.oj,{node:portalNode,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Counter,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{onClick:()=>setDivToUse(!useOuterDiv),children:"Click to move the OutPortal"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("hr",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{children:"Outer OutPortal:"}),!0===useOuterDiv&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Container,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Container,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(Container,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{children:"Inner OutPortal:"}),!1===useOuterDiv&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode})]})})})]})})},CanSetPropsRemotelyWhilstMoving=()=>{const portalNode=(0,___WEBPACK_IMPORTED_MODULE_1__.KF)(),Counter=props=>{const[count,setCount]=react__WEBPACK_IMPORTED_MODULE_0__.useState(0);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{style:{backgroundColor:props.bgColor},children:["Count is ",count,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{onClick:()=>setCount(count+1),children:"+1"})]})};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(()=>{const[useOuterDiv,setDivToUse]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.oj,{node:portalNode,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Counter,{bgColor:"#faa"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{onClick:()=>setDivToUse(!useOuterDiv),children:"Click to move the OutPortal"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("hr",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{children:"Outer OutPortal:"}),!0===useOuterDiv&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode,bgColor:"#aaf"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Container,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Container,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(Container,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{children:"Inner OutPortal:"}),!1===useOuterDiv&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode,bgColor:"#afa"})]})})})]})})},CanSwitchBetweenPortalsSafely=()=>{const portalNode1=(0,___WEBPACK_IMPORTED_MODULE_1__.KF)(),portalNode2=(0,___WEBPACK_IMPORTED_MODULE_1__.KF)(),Counter=()=>{const[count,setCount]=react__WEBPACK_IMPORTED_MODULE_0__.useState(0);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:["Count is ",count,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{onClick:()=>setCount(count+1),children:"+1"})]})};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(()=>{const[isPortalSwitched,switchPortal]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);let portalNode=isPortalSwitched?portalNode2:portalNode1;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.oj,{node:portalNode1,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Counter,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.oj,{node:portalNode2,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Counter,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{onClick:()=>switchPortal(!isPortalSwitched),children:"Click to swap the portal shown"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("hr",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{children:"Inner OutPortal:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode})]})})},RendersReliablyEvenWithFrequentChangesAndMultiplePortals=()=>{const portalNode=(0,___WEBPACK_IMPORTED_MODULE_1__.KF)(),Target=p=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:p.value.toString()}),Parent=()=>{const[state,setState]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);return setTimeout(()=>{setState(!state)},100),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:["Portal flickers between 2 / 3 / nothing here:",state?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode,value:1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode,value:2})]}):Math.random()>.5?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode,value:3}):null]})};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:["Portal defined here:",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.oj,{node:portalNode,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Target,{value:"unmounted"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Parent,{})]})},SwapNodesBetweenDifferentLocations=()=>{const initialOrder=[];for(let i=0;i<5;i++)initialOrder[i]=i;const ChangeLayoutWithoutUnmounting=()=>{const nodes=react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>initialOrder.map(()=>(0,___WEBPACK_IMPORTED_MODULE_1__.KF)()),[]),[order,setOrder]=react__WEBPACK_IMPORTED_MODULE_0__.useState(initialOrder);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{onClick:()=>setOrder(order.slice().reverse()),children:"Click to reverse the order"}),nodes.map((node,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.oj,{node,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{children:index})},index)),order.map(position=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:nodes[position]},position))]})};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ChangeLayoutWithoutUnmounting,{})},CanPassAttributesOptionToCreateHtmlPortalNode=()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(()=>{const[hasAttrOption,setHasAttrOption]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),portalNode=(0,___WEBPACK_IMPORTED_MODULE_1__.KF)(hasAttrOption?{attributes:{id:"div-id-1",style:"background-color: #aaf; width: 204px;"}}:void 0);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{onClick:()=>setHasAttrOption(!hasAttrOption),children:"Click to pass attributes option to the intermediary div"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("hr",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.oj,{node:portalNode,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{width:"200px",height:"50px",border:"2px solid purple"}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("br",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("br",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("br",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("text",{children:hasAttrOption?'const portalNode = createHtmlPortalNode({ attributes: { id: "div-id-1", style: "background-color: #aaf; width: 204px;" } });':"const portalNode = createHtmlPortalNode();"})]})}),PortalContainerElementAsSpanInParagraph=()=>{const portalNode=(0,___WEBPACK_IMPORTED_MODULE_1__.KF)({containerElement:"span"});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("p",{children:["Portal defined here:",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.oj,{node:portalNode,children:"Hi!"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("p",{children:["Portal renders here:",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode})]})]})},PortalContainerElementAsTr=()=>{const portalNode=(0,___WEBPACK_IMPORTED_MODULE_1__.KF)({containerElement:"tr"});return react__WEBPACK_IMPORTED_MODULE_0__.createElement(()=>{const[useFirstTable,setUseFirstTable]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!0);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(___WEBPACK_IMPORTED_MODULE_1__.oj,{node:portalNode,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("td",{children:"Cell 1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("td",{children:"Cell 2"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("td",{children:"Cell 3"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("button",{onClick:()=>setUseFirstTable(!useFirstTable),children:["Move row to ",useFirstTable?"second":"first"," table"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{style:{display:"flex",gap:"20px",marginTop:"20px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("table",{border:1,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("thead",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("tr",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("th",{colSpan:3,children:"First Table"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("tbody",{children:useFirstTable&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("table",{border:1,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("thead",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("tr",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("th",{colSpan:3,children:"Second Table"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("tbody",{children:!useFirstTable&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:portalNode})})]})]})]})})},ExampleFromREADME=()=>{const MyExpensiveComponent=props=>"expensive!",MyComponent=props=>{const portalNode=react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>(0,___WEBPACK_IMPORTED_MODULE_1__.KF)(),[]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.oj,{node:portalNode,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MyExpensiveComponent,{myProp:"defaultValue"})}),"component-a"===props.componentToShow?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComponentA,{portalNode}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComponentB,{portalNode})]})},ComponentA=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:["A:",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:props.portalNode})]}),ComponentB=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:["B:",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.bL,{node:props.portalNode,myProp:"newValue",myOtherProp:123})]});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MyComponent,{componentToShow:"component-a"})},__namedExportsOrder=["RenderThingsInDifferentPlaces","PersistDOMWhilstMoving","PersistComponentStateWhilstMoving","CanSetPropsRemotelyWhilstMoving","CanSwitchBetweenPortalsSafely","RendersReliablyEvenWithFrequentChangesAndMultiplePortals","SwapNodesBetweenDifferentLocations","CanPassAttributesOptionToCreateHtmlPortalNode","PortalContainerElementAsSpanInParagraph","PortalContainerElementAsTr","ExampleFromREADME"];RenderThingsInDifferentPlaces.parameters={...RenderThingsInDifferentPlaces.parameters,docs:{...RenderThingsInDifferentPlaces.parameters?.docs,source:{originalSource:"() => {\n  const portalNode = createHtmlPortalNode();\n  return <div>\n        <div>\n            Portal defined here:\n            <InPortal node={portalNode}>\n                Hi!\n            </InPortal>\n        </div>\n\n        <div>\n            Portal renders here:\n            <OutPortal node={portalNode} />\n        </div>\n    </div>;\n}",...RenderThingsInDifferentPlaces.parameters?.docs?.source}}},PersistDOMWhilstMoving.parameters={...PersistDOMWhilstMoving.parameters,docs:{...PersistDOMWhilstMoving.parameters?.docs,source:{originalSource:'() => {\n  const portalNode = createHtmlPortalNode();\n  return React.createElement(() => {\n    const [useOuterDiv, setDivToUse] = React.useState(false);\n    return <div>\n            <InPortal node={portalNode}>\n                <video src="https://media.giphy.com/media/l0HlKghz8IvrQ8TYY/giphy.mp4" controls loop />\n            </InPortal>\n\n            <button onClick={() => setDivToUse(!useOuterDiv)}>\n                Click to move the OutPortal\n            </button>\n\n            <hr />\n\n            <div>\n                <p>Outer OutPortal:</p>\n                {useOuterDiv === true && <OutPortal node={portalNode} />}\n                <Container>\n                    <Container>\n                        <Container>\n                            <p>Inner OutPortal:</p>\n                            {useOuterDiv === false && <OutPortal node={portalNode} />}\n                        </Container>\n                    </Container>\n                </Container>\n            </div>\n        </div>;\n  });\n}',...PersistDOMWhilstMoving.parameters?.docs?.source}}},PersistComponentStateWhilstMoving.parameters={...PersistComponentStateWhilstMoving.parameters,docs:{...PersistComponentStateWhilstMoving.parameters?.docs,source:{originalSource:"() => {\n  const portalNode = createHtmlPortalNode();\n  const Counter = () => {\n    const [count, setCount] = React.useState(0);\n    return <div>\n            Count is {count}\n            <button onClick={() => setCount(count + 1)}>\n                +1\n            </button>\n        </div>;\n  };\n  return React.createElement(() => {\n    const [useOuterDiv, setDivToUse] = React.useState(false);\n    return <div>\n            <InPortal node={portalNode}>\n                <Counter />\n            </InPortal>\n\n            <button onClick={() => setDivToUse(!useOuterDiv)}>\n                Click to move the OutPortal\n            </button>\n\n            <hr />\n\n            <p>Outer OutPortal:</p>\n            {useOuterDiv === true && <OutPortal node={portalNode} />}\n            <Container>\n                <Container>\n                    <Container>\n                        <p>Inner OutPortal:</p>\n                        {useOuterDiv === false && <OutPortal node={portalNode} />}\n                    </Container>\n                </Container>\n            </Container>\n        </div>;\n  });\n}",...PersistComponentStateWhilstMoving.parameters?.docs?.source}}},CanSetPropsRemotelyWhilstMoving.parameters={...CanSetPropsRemotelyWhilstMoving.parameters,docs:{...CanSetPropsRemotelyWhilstMoving.parameters?.docs,source:{originalSource:'() => {\n  const portalNode = createHtmlPortalNode();\n  const Counter = (props: {\n    bgColor: string;\n  }) => {\n    const [count, setCount] = React.useState(0);\n    return <div style={{\n      backgroundColor: props.bgColor\n    }}>\n            Count is {count}\n            <button onClick={() => setCount(count + 1)}>\n                +1\n            </button>\n        </div>;\n  };\n  return React.createElement(() => {\n    const [useOuterDiv, setDivToUse] = React.useState(false);\n    return <div>\n            <InPortal node={portalNode}>\n                <Counter bgColor="#faa" />\n            </InPortal>\n\n            <button onClick={() => setDivToUse(!useOuterDiv)}>\n                Click to move the OutPortal\n            </button>\n\n            <hr />\n\n            <p>Outer OutPortal:</p>\n            {useOuterDiv === true && <OutPortal node={portalNode} bgColor="#aaf" />}\n            <Container>\n                <Container>\n                    <Container>\n                        <p>Inner OutPortal:</p>\n                        {useOuterDiv === false && <OutPortal node={portalNode} bgColor="#afa" />}\n                    </Container>\n                </Container>\n            </Container>\n        </div>;\n  });\n}',...CanSetPropsRemotelyWhilstMoving.parameters?.docs?.source}}},CanSwitchBetweenPortalsSafely.parameters={...CanSwitchBetweenPortalsSafely.parameters,docs:{...CanSwitchBetweenPortalsSafely.parameters?.docs,source:{originalSource:"() => {\n  const portalNode1 = createHtmlPortalNode();\n  const portalNode2 = createHtmlPortalNode();\n  const Counter = () => {\n    const [count, setCount] = React.useState(0);\n    return <div>\n            Count is {count}\n            <button onClick={() => setCount(count + 1)}>\n                +1\n            </button>\n        </div>;\n  };\n  return React.createElement(() => {\n    const [isPortalSwitched, switchPortal] = React.useState(false);\n    let portalNode = isPortalSwitched ? portalNode2 : portalNode1;\n    return <div>\n            <InPortal node={portalNode1}>\n                <Counter />\n            </InPortal>\n            <InPortal node={portalNode2}>\n                <Counter />\n            </InPortal>\n\n            <button onClick={() => switchPortal(!isPortalSwitched)}>\n                Click to swap the portal shown\n            </button>\n\n            <hr />\n\n            <p>Inner OutPortal:</p>\n            <OutPortal node={portalNode} />\n        </div>;\n  });\n}",...CanSwitchBetweenPortalsSafely.parameters?.docs?.source}}},RendersReliablyEvenWithFrequentChangesAndMultiplePortals.parameters={...RendersReliablyEvenWithFrequentChangesAndMultiplePortals.parameters,docs:{...RendersReliablyEvenWithFrequentChangesAndMultiplePortals.parameters?.docs,source:{originalSource:"() => {\n  const portalNode = createHtmlPortalNode();\n  const Target = (p: {\n    value: string | number;\n  }) => <>{p.value.toString()}</>;\n  const Parent = () => {\n    const [state, setState] = React.useState(false);\n\n    // Change frequently, to hunt for race conditions. On leaving this story, this might\n    // complain about calling setState after unmount - that's totally fine, we don't care.\n    // There should be no other errors though.\n    setTimeout(() => {\n      setState(!state);\n    }, 100);\n    return <div>\n            Portal flickers between 2 / 3 / nothing here:\n            {state\n      // What happens if you render the same portal twice?\n      ? <>\n                    <OutPortal node={portalNode} value={1} />\n                    <OutPortal node={portalNode} value={2} />\n                </>\n      // What happens if you switch from 2 portals to 1, to 2 to zero, at random?\n      : Math.random() > 0.5 ? <OutPortal node={portalNode} value={3} /> : null}\n        </div>;\n  };\n  return <div>\n        <div>\n            Portal defined here:\n            <InPortal node={portalNode}>\n                <Target value='unmounted' />\n            </InPortal>\n        </div>\n\n        <Parent />\n    </div>;\n}",...RendersReliablyEvenWithFrequentChangesAndMultiplePortals.parameters?.docs?.source}}},SwapNodesBetweenDifferentLocations.parameters={...SwapNodesBetweenDifferentLocations.parameters,docs:{...SwapNodesBetweenDifferentLocations.parameters?.docs,source:{originalSource:"() => {\n  const numberOfNodes = 5;\n  const initialOrder: number[] = [];\n  for (let i = 0; i < numberOfNodes; i++) {\n    initialOrder[i] = i;\n  }\n  const ChangeLayoutWithoutUnmounting = () => {\n    const nodes = React.useMemo(() => initialOrder.map(() => createHtmlPortalNode()), []);\n    const [order, setOrder] = React.useState(initialOrder);\n    return <div>\n          <button onClick={() => setOrder(order.slice().reverse())}>\n            Click to reverse the order\n          </button>\n          {nodes.map((node, index) => <InPortal node={node} key={index}>\n                <span>{index}</span>\n            </InPortal>)}\n          {order.map(position => <OutPortal node={nodes[position]} key={position} />)}\n        </div>;\n  };\n  return <ChangeLayoutWithoutUnmounting />;\n}",...SwapNodesBetweenDifferentLocations.parameters?.docs?.source}}},CanPassAttributesOptionToCreateHtmlPortalNode.parameters={...CanPassAttributesOptionToCreateHtmlPortalNode.parameters,docs:{...CanPassAttributesOptionToCreateHtmlPortalNode.parameters?.docs,source:{originalSource:'() => {\n  return React.createElement(() => {\n    const [hasAttrOption, setHasAttrOption] = React.useState(false);\n    const portalNode = createHtmlPortalNode(hasAttrOption ? {\n      attributes: {\n        id: "div-id-1",\n        style: "background-color: #aaf; width: 204px;"\n      }\n    } : undefined);\n    return <div>\n            <button onClick={() => setHasAttrOption(!hasAttrOption)}>\n                Click to pass attributes option to the intermediary div\n            </button>\n\n            <hr />\n\n            <InPortal node={portalNode}>\n                <div style={{\n          width: \'200px\',\n          height: \'50px\',\n          border: \'2px solid purple\'\n        }} />\n            </InPortal>\n\n            <OutPortal node={portalNode} />\n\n            <br />\n            <br />\n            <br />\n\n            <text>{!hasAttrOption ? `const portalNode = createHtmlPortalNode();` : `const portalNode = createHtmlPortalNode({ attributes: { id: "div-id-1", style: "background-color: #aaf; width: 204px;" } });`}</text>\n        </div>;\n  });\n}',...CanPassAttributesOptionToCreateHtmlPortalNode.parameters?.docs?.source}}},PortalContainerElementAsSpanInParagraph.parameters={...PortalContainerElementAsSpanInParagraph.parameters,docs:{...PortalContainerElementAsSpanInParagraph.parameters?.docs,source:{originalSource:"() => {\n  const portalNode = createHtmlPortalNode({\n    containerElement: 'span'\n  });\n  return <div>\n        <p>\n            Portal defined here:\n            <InPortal node={portalNode}>\n                Hi!\n            </InPortal>\n        </p>\n\n        <p>\n            Portal renders here:\n            <OutPortal node={portalNode} />\n        </p>\n    </div>;\n}",...PortalContainerElementAsSpanInParagraph.parameters?.docs?.source}}},PortalContainerElementAsTr.parameters={...PortalContainerElementAsTr.parameters,docs:{...PortalContainerElementAsTr.parameters?.docs,source:{originalSource:'() => {\n  const portalNode = createHtmlPortalNode({\n    containerElement: "tr"\n  });\n  return React.createElement(() => {\n    const [useFirstTable, setUseFirstTable] = React.useState(true);\n    return <div>\n            <InPortal node={portalNode}>\n                <td>Cell 1</td>\n                <td>Cell 2</td>\n                <td>Cell 3</td>\n            </InPortal>\n\n            <button onClick={() => setUseFirstTable(!useFirstTable)}>\n                Move row to {useFirstTable ? "second" : "first"} table\n            </button>\n\n            <div style={{\n        display: "flex",\n        gap: "20px",\n        marginTop: "20px"\n      }}>\n                <table border={1}>\n                <thead>\n                    <tr>\n                    <th colSpan={3}>First Table</th>\n                    </tr>\n                </thead>\n                <tbody>{useFirstTable && <OutPortal node={portalNode} />}</tbody>\n                </table>\n\n                <table border={1}>\n                <thead>\n                    <tr>\n                    <th colSpan={3}>Second Table</th>\n                    </tr>\n                </thead>\n                <tbody>{!useFirstTable && <OutPortal node={portalNode} />}</tbody>\n                </table>\n            </div>\n            </div>;\n  });\n}',...PortalContainerElementAsTr.parameters?.docs?.source}}},ExampleFromREADME.parameters={...ExampleFromREADME.parameters,docs:{...ExampleFromREADME.parameters?.docs,source:{originalSource:"() => {\n  const MyExpensiveComponent = (props: any) => 'expensive!';\n  const MyComponent = (props: {\n    componentToShow: string;\n  }) => {\n    const portalNode = React.useMemo(() => createHtmlPortalNode(), []);\n    return <div>\n            {/*\n                Create the content that you want to move around.\n                InPortals render as normal, but to detached DOM.\n                Until this is used MyExpensiveComponent will not\n                appear anywhere in the page.\n             */}\n            <InPortal node={portalNode}>\n                <MyExpensiveComponent\n        // Optionally provide props to use before this enters the DOM\n        myProp={\"defaultValue\"} />\n            </InPortal>\n\n            {/* ... The rest of your UI ... */}\n\n            {/* Pass the node to whoever might want to show it: */}\n            {props.componentToShow === 'component-a' ? <ComponentA portalNode={portalNode} /> : <ComponentB portalNode={portalNode} />}\n        </div>;\n  };\n  const ComponentA = (props: {\n    portalNode: HtmlPortalNode;\n  }) => {\n    return <div>\n            {/* ... Some more UI ... */}\n\n            A:\n\n            <OutPortal node={props.portalNode} // Show the content from this node here\n      />\n        </div>;\n  };\n  const ComponentB = (props: {\n    portalNode: HtmlPortalNode;\n  }) => {\n    return <div>\n            {/* ... Some more UI ... */}\n\n            B:\n\n            <OutPortal node={props.portalNode} // Pull in the content from this node\n      myProp={\"newValue\"} // Optionally, override default values\n      myOtherProp={123} // Or add new props\n\n      // These props go back to the InPortal, and trigger a component\n      // update (but on the same component instance) as if they had\n      // been passed directly.\n      />\n        </div>;\n  };\n  return <MyComponent componentToShow='component-a' />;\n}",...ExampleFromREADME.parameters?.docs?.source}}}}}]);