import{r as s}from"./iframe-CdqLD_Ol.js";import{r as g}from"./index-CnoKS_tV.js";var P=(function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),p="html",f="svg",w="http://www.w3.org/2000/svg",y=function(o,r){var t,e,n,a=(t=o.ownerDocument)!==null&&t!==void 0?t:document,i=(n=(e=a.defaultView)!==null&&e!==void 0?e:a.parentWindow)!==null&&n!==void 0?n:window;switch(r){case p:return o instanceof i.HTMLElement;case f:return o instanceof i.SVGElement;default:throw new Error('Unrecognized element type "'.concat(r,'" for validateElementType.'))}},N=function(o,r){var t,e,n={},a,i,u;switch(o){case p:u=document.createElement((t=r?.containerElement)!==null&&t!==void 0?t:"div");break;case f:u=document.createElementNS(w,(e=r?.containerElement)!==null&&e!==void 0?e:"g");break;default:throw new Error('Invalid element type "'.concat(o,'" for createPortalNode: must be "html" or "svg".'))}if(r&&typeof r=="object"&&r.attributes)for(var d=0,v=Object.entries(r.attributes);d<v.length;d++){var m=v[d],E=m[0],_=m[1];u.setAttribute(E,_)}var c={element:u,elementType:o,setPortalProps:function(l){n=l},getInitialPortalProps:function(){return n},mount:function(l,h){if(h!==i){if(c.unmount(),l!==a&&!y(l,o))throw new Error('Invalid element type for portal: "'.concat(o,'" portalNodes must be used with ').concat(o," elements, but OutPortal is within <").concat(l.tagName,">."));l.replaceChild(c.element,h),a=l,i=h}},unmount:function(l){l&&l!==i||a&&i&&(a.replaceChild(i,c.element),a=void 0,i=void 0)}};return c},C=(function(o){P(r,o);function r(t){var e=o.call(this,t)||this;return e.addPropsChannel=function(){Object.assign(e.props.node,{setPortalProps:function(n){e.setState({nodeProps:n})}})},e.state={nodeProps:e.props.node.getInitialPortalProps()},e}return r.prototype.componentDidMount=function(){this.addPropsChannel()},r.prototype.componentDidUpdate=function(){this.addPropsChannel()},r.prototype.render=function(){var t=this,e=this.props,n=e.children,a=e.node;return g.createPortal(s.Children.map(n,function(i){return s.isValidElement(i)?s.cloneElement(i,t.state.nodeProps):i}),a.element)},r})(s.PureComponent),T=(function(o){P(r,o);function r(t){var e=o.call(this,t)||this;return e.placeholderNode=s.createRef(),e.passPropsThroughPortal(),e}return r.prototype.passPropsThroughPortal=function(){var t=Object.assign({},this.props,{node:void 0});this.props.node.setPortalProps(t)},r.prototype.componentDidMount=function(){var t=this.props.node;this.currentPortalNode=t;var e=this.placeholderNode.current,n=e.parentNode;t.mount(n,e),this.passPropsThroughPortal()},r.prototype.componentDidUpdate=function(){var t=this.props.node;this.currentPortalNode&&t!==this.currentPortalNode&&(this.currentPortalNode.unmount(this.placeholderNode.current),this.currentPortalNode.setPortalProps({}),this.currentPortalNode=t);var e=this.placeholderNode.current,n=e.parentNode;t.mount(n,e),this.passPropsThroughPortal()},r.prototype.componentWillUnmount=function(){var t=this.props.node;t.unmount(this.placeholderNode.current),t.setPortalProps({})},r.prototype.render=function(){var t=this.props.node.element.tagName,e=this.props.node.elementType===p?t.toLowerCase():t;return s.createElement(e,{ref:this.placeholderNode})},r})(s.PureComponent),S=N.bind(null,p),j=N.bind(null,f);export{C as I,T as O,j as a,S as c};
